apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component

# This component patches the Ironic CR to use non-default ports.
# This allows upgrade tests to run on a separate kind cluster without
# conflicting with the main e2e cluster that uses the default ports.

patches:
- target:
    kind: Ironic
    name: ironic
  patch: |-
    - op: add
      path: /spec/networking/apiPort
      value: 7385
    - op: add
      path: /spec/networking/imageServerPort
      value: 7180
